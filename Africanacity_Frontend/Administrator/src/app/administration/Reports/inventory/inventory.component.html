<div class="container-fluid">
    <div class="row">
        <div class="col-md-2">
            <app-navbar></app-navbar>
        </div>

        <div class="col-md-10 order-md-1">
            <!-- heading -->
            <div class="row">
                <h1 class="heading">Inventory Report</h1>
                <span style="display: block; width: 700px;" class="col-md-6 order-md-1 card">
                    <!-- <canvas baseChart
                        [datasets]="barChartData"
                        [labels]="barChartLabels"
                        [options]="barChartOptions"
                        [legend]="barChartLegend"
                        [type]="barChartType">
                    </canvas> -->
                </span>
                <span class="col-md-1 order-md-1"></span>
                <span style="display: block; height: 400px;" class="col-md-4 order-md-1 card">
                    <!-- <canvas id="pie" 
                        baseChart
                        [datasets]="pieChartData"
                        [labels]="pieChartLabels"
                        [type]="pieChartType">
                    </canvas> -->
                </span>
            </div>  
                <br> <br> 
                <div>
                    <button class="addButton" style="width: 150px">
                        <i class="fa fa-download fa-lg icon" aria-hidden="true" (click)="downloadPDF()"> Download</i>                
                    </button>
                </div>


                <div class="table-container">
                    <ng-container *ngFor="let type of inventoryTypes">
                        <h2>{{ type.name }}</h2>
                        <table class="table table-striped table-hover table-container outlined-table">
                          <thead class="tableColor">
                            <th scope="col">ID</th>
                            <th scope="col">Name</th>
                            <th scope="col">Quantity</th>
                            <th scope="col">Description</th>
                            <th scope="col">Price per unit</th>
                            <th scope="col">Total product price</th>
    
                          </thead>
                          <tbody>
                            <tr *ngFor="let inventoryitem of getItemsByType(type.name)">
                              <td>{{ inventoryitem.inventory_ItemId }}</td>
                              <td>{{ inventoryitem.itemName }}</td>
                              <td>{{ inventoryitem.quantity }}</td>
                              <td>{{ inventoryitem.description }}</td>
                              <td>{{ inventoryPrices[inventoryitem.inventory_ItemId] }}</td>
                              <td>{{ inventoryPrices[inventoryitem.inventory_ItemId] * inventoryitem.quantity }} </td>
    
                            </tr>
                            <tr>
                                <td class="subtotal">Subtotal:</td>
                                <td colspan="4"></td>
                                <td class="subtotal">{{ calculateSubtotal(type.name) }}</td>
                            </tr>
                          </tbody>
                        </table>
                    </ng-container>
                    <table class="table table-striped table-hover table-container outlined-table">
                        <tbody>
                          <tr>
                                <td class="grand-total">Grand Total:</td>
                                <td colspan=""></td>
                                <td class="grand-total" style="padding-left: 760px;">{{ calculateGrandTotal() }}</td>
                          </tr>
                        </tbody>
                    </table>
                </div>
            </div> <br />
                            
        </div>
    </div>