<app-navbar></app-navbar> 

<div class="container" style="margin-top: -60rem; margin-left: 20rem; width: auto;">
<!-- <div class="container" style="margin-left: 18%; width: auto;"> -->
  <form [formGroup]="updateForm" (ngSubmit)="onSubmit()">
    <button style="margin-left: 63rem;" mat-icon-button (click)="openHelpModal('itemName')" aria-label="Help">
      <mat-icon>help</mat-icon>
    </button>
    <h2 class="pt-3 font-weight-bold" style="text-align: center;">
      Update Profile
    </h2>  
    <div class="form-group pt-3">
      <div class="input-field" [class.error]="updateForm.controls['firstName'].dirty && updateForm.hasError('required','firstName')"> <span class="fa fa-user p-2"></span> <input   id="firstName" formControlName="firstName" type="text" placeholder="First Name"> </div>
  </div>
  <small *ngIf="updateForm.controls['firstName'].dirty && updateForm.hasError('required','firstName')" class="text-danger">*First Name is required*</small>
  <div class="form-group pt-3">
      <div class="input-field" [class.error]="updateForm.controls['lastName'].dirty && updateForm.hasError('required','lastName')"> <span class="fa fa-user p-2"></span> <input  id="lastName" formControlName="lastName" type="text" placeholder="Last Name"> </div>
  </div>
  <small *ngIf="updateForm.controls['lastName'].dirty && updateForm.hasError('required','lastName')" class="text-danger">*Last Name is required*</small>
  <div class="form-group pt-3">
      <div class="input-field" [class.error]="updateForm.controls['username'].dirty && updateForm.hasError('required','username')"> <span class="fa fa-user p-2"></span> <input id="username" formControlName="username" type="text" placeholder="UserName"> </div>
  </div>
  <small *ngIf="updateForm.controls['username'].dirty && updateForm.hasError('required','username')" class="text-danger">*Username is required*</small>
  <div class="form-group pt-3">
    <div class="input-field"
      [class.error]="updateForm.controls['contactNumber'].dirty && (updateForm.hasError('required', 'contactNumber') || updateForm.hasError('noSpaces', 'contactNumber') || updateForm.hasError('pattern', 'contactNumber') || updateForm.hasError('allZeros', 'contactNumber'))">
      <span class="fa fa-phone p-2"></span>
      <input id="contactNumber" formControlName="contactNumber" type="text" placeholder="Contact Number">
    </div>
  </div>
  <small *ngIf="updateForm.controls['contactNumber'].dirty && (updateForm.hasError('required', 'contactNumber') || updateForm.hasError('noSpaces', 'contactNumber') || updateForm.hasError('pattern', 'contactNumber') || updateForm.hasError('allZeros', 'contactNumber'))"
    class="text-danger">
    *{{ updateForm.hasError('noSpaces', 'contactNumber') ? 'Contact Number cannot be just spaces' :
    updateForm.hasError('pattern', 'contactNumber') ? 'Invalid Contact Number' :
    updateForm.hasError('allZeros', 'contactNumber') ? 'Invalid South African Number' : 'Contact Number is required' }}*
  </small>
  
  <div class="form-group pt-3">
      <div class="input-field" [class.error]="updateForm.controls['physicalAddress'].dirty && updateForm.hasError('required','physicalAddress')"> <span class="fa fa-address-book-o p-2"></span> <input id="physicalAddress" formControlName="physicalAddress" type="text" placeholder="Phyiscal Address"> </div>
  </div>
  <small  *ngIf="updateForm.controls['physicalAddress'].dirty && updateForm.hasError('required','physicalAddress')" class="text-danger">*Physical Address is required*</small>
  <div class="form-group pt-3">
    <div class="input-field" [class.error]="updateForm.controls['email'].dirty && updateForm.hasError('required','email')"> <span class="fa fa-envelope p-2"></span> <input id="email" formControlName="email" type="text" placeholder="Email"> </div>
</div>
<small  *ngIf="updateForm.controls['email'].dirty && updateForm.hasError('required','email')" class="text-danger">*Email is required*</small>

    <div class="form-group">
      <div class="col-sm-offset-1 col-sm-6">
        <button  type="submit" [disabled]="!updateForm.valid" style="margin-right:1em; width: 40%;" class="btn btn-sm btn-primary">Submit</button>
        <button style="width: 40%;" type="button" class="btn btn-sm btn-danger" (click)="cancel()">Cancel</button>
      </div>
    </div>
  </form>
  
 </div>


